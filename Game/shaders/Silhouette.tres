[gd_resource type="Shader" format=2]

[resource]
code = "shader_type canvas_item;
uniform vec4 target_color = vec4(0.0, 0.0, 0.0, 1.0); // Default to pure black.

void fragment() {
	// Get the current color based on the passed-in UV, and the global TEXTURE variable of the 
	// sprite we're attached to
	vec4 color = texture(TEXTURE, UV);
	
	// If the color is not transparent, turn it black.
	if (color.a != 0.0) {
		color = target_color;		
	// Otherwise, leave it transparent.
	} else {
		color = vec4(0.0, 0.0, 0.0, 0.0);
	}
	
	COLOR = color;
}"
